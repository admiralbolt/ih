<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation &mdash; Image Harvest 1.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Image Harvest 1.0.1 documentation" href="index.html" />
    <link rel="next" title="Getting Started" href="start.html" />
    <link rel="prev" title="Introduction" href="introduction.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Image Harvest</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_script_core1.html">Core Processing Example #1</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_script_core2.html">Core Processing Example #2</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_script_color1.html">Color Filter In Depth #1</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_script_seed.html">Seed Processing Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_script_camera1.html">Camera Processing Example #1</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_script_camera2.html">Camera Processing Example #2</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_workflow_1.html">Workflow Example #1</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_workflow_2.html">OSG Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_workflow_2.html#creating-the-ih-distribution">Creating the ih Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex_workflow_2.html#creating-ssh-keys">Creating ssh Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="arkansas_workshop_july_2015.html">Arkansas Workshop July 2015</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing.html">Image Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Image Processing Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="statistics.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Image Loading</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflowimage.html">Image Processing Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflowstats.html">Statistics Workflows</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#centos-6-5">Centos 6.5</a><ul>
<li><a class="reference internal" href="#with-anaconda">With Anaconda</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ubuntu-12-04">Ubuntu 12.04</a><ul>
<li><a class="reference internal" href="#id1">With Anaconda</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mac-osx">Mac OSX</a></li>
<li><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="introduction.html" title="Previous Chapter: Introduction"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Introduction</span>
    </a>
  </li>
  <li>
    <a href="start.html" title="Next Chapter: Getting Started"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Getting Started &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/installation.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>It is recommended to use the latest stable version for each of the dependencies.  Package
manager software is sometimes behind, so for some dependencies you may have to download and
install a more recent version.  Many systems come with a development tools package which
should be installed. Most of the requirements below requires a c and c++ compiler, and some
require a fortran compiler.</p>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><a class="reference external" href="http://matplotlib.org/">Matplotlib</a> &gt;= 1.3.1</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.numpy.org/">NumPy</a> &gt;= 1.7</p>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://opencv.org/">OpenCV</a> == 2.4.x</dt>
<dd><ul class="first last simple">
<li>GTK2 (including headers) &gt;= 2.24</li>
<li>blas &gt;= 3.2.1</li>
<li>lapack &gt;= 3.2.1</li>
<li>libav &gt;= 0.5.3</li>
<li>cmake &gt;= 2.8.12</li>
<li><a class="reference external" href="https://www.ffmpeg.org/">ffmpeg</a> &gt;= 2.0.5</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://pandas.pydata.org/">Pandas</a> &gt;= 0.13.1</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://cython.org/">Cython</a> &gt;= 0.21.1</li>
<li><a class="reference external" href="https://labix.org/python-dateutil">python-dateutil</a> &gt;= 1.4.1</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><a class="reference external" href="https://code.google.com/p/pymeanshift/">PyMeanShift</a> &gt;= 0.2.0</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.scipy.org/">SciPy</a> &gt;= 0.13.1</p>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://pegasus.isi.edu/">Pegasus</a> &gt;= 4.4.0</dt>
<dd><ul class="first last simple">
<li>Java &gt;= 1.8</li>
<li>Perl &gt;= 5.10</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><a class="reference external" href="http://research.cs.wisc.edu/htcondor/">HTCondor</a> &gt;= 8.3.0</p>
</li>
</ul>
<p>Pegasus and HTCondor are only required if you wish to use the super computer workflow generation functionality.
Additionally, many super computing environments may already have Pegasus, HTCondor, and other
dependencies installed. There are resources available for quickly installing the <a class="reference external" href="http://www.scipy.org/install.html">SciPy Stack</a>,
which includes the NumPy, SciPy, Pandas, and Matplotlib.  The installation tutorials for Mac OSX, and Windows
specifically leave out Pegasus and HTCondor, as they are expected to be machines for local testing, not for
submitting grid jobs.  Finally, Image Harvest can be installed by downloading a zip file from the repo
(<a class="reference external" href="https://git.unl.edu/aknecht2/ih">link</a>), and running &#8216;python setup.py install&#8217;.</p>
</div>
<div class="section" id="centos-6-5">
<h2>Centos 6.5<a class="headerlink" href="#centos-6-5" title="Permalink to this headline">¶</a></h2>
<p>It is <strong>highly</strong> recommended that you use anaconda (or another python package manager such as pip) to install the python packages.  The installation
process becomes much simpler and faster.</p>
<div class="section" id="with-anaconda">
<h3>With Anaconda<a class="headerlink" href="#with-anaconda" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># Update</span>
sudo yum -y update

<span class="c"># Set up condor repo</span>
<span class="nb">cd</span> /etc/yum.repos.d
sudo wget http://research.cs.wisc.edu/htcondor/yum/repo.d/htcondor-stable-rhel6.repo
sudo wget http://research.cs.wisc.edu/htcondor/yum/RPM-GPG-KEY-HTCondor
sudo rpm --import RPM-GPG-KEY-HTCondor

<span class="c"># Install packages</span>
sudo yum -y install java-1.8.0-* perl condor.x86_64

<span class="c"># Download Pegasus</span>
wget -O pegasus.tar.gz http://download.pegasus.isi.edu/pegasus/4.4.0/pegasus-worker-4.4.0-x86_64_rhel_6.tar.gz
tar -zxvf pegasus.tar.gz

<span class="c"># Download and install anaconda</span>
wget -O anaconda.sh http://09c8d0b2229f813c1b93-c95ac804525aac4b6dba79b00b39d1d3.r79.cf1.rackcdn.com/Anaconda-2.1.0-Linux-x86_64.sh
bash anaconda.sh -b

<span class="c"># Install *almost* everything in one line</span>
conda install numpy scipy pandas matplotlib opencv

<span class="c"># Download PyMeanShift and install, assuming directory is &#39;pymeanshift&#39;</span>
<span class="nb">cd </span>pymeanshift
sudo python setup.py install

<span class="c"># Install Image Harvest, assuming directory is &#39;ih.git&#39;</span>
<span class="nb">cd </span>ih.git
sudo python setup.py install

<span class="c"># Make sure to move the pegasus python files into the anaconda package folder</span>
<span class="c"># Update the following command as necessary</span>
cp -r pegasus-4.4.0/lib64/python2.6/site-packages/Pegasus ~/anaconda/lib/python2.7/site-packages/
<span class="c"># and to update your bash profile to include the pegasus commands,</span>
<span class="c"># or cp the pegasus commands to /usr/bin or /usr/local/bin</span>
cp pegasus-4.4.0/bin/* /usr/bin/
</pre></div>
</div>
</div>
</div>
<div class="section" id="ubuntu-12-04">
<h2>Ubuntu 12.04<a class="headerlink" href="#ubuntu-12-04" title="Permalink to this headline">¶</a></h2>
<p>It is <strong>highly</strong> recommended that you use anaconda (or another python package manager such as pip) to install the python packages.  The installation
process becomes much simpler and faster.</p>
<div class="section" id="id1">
<h3>With Anaconda<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># Update</span>
sudo apt-get -y update

<span class="c"># Install build-essential</span>
sudo apt-get -y install build-essential

<span class="c"># Setup condor repository</span>
sudo bash -c <span class="s1">&#39;echo &quot;deb http://research.cs.wisc.edu/htcondor/debian/stable/ wheezy contrib&quot; &gt;&gt; /etc/apt/sources.list&#39;</span>
wget -qO - http://research.cs.wisc.edu/htcondor/debian/HTCondor-Release.gpg.key <span class="p">|</span> sudo apt-key add -
sudo apt-get -y update
sudo apt-get install condor

<span class="c"># Install dependencies</span>
sudo apt-get -y install software-properties-common python-software-properties perl
sudo add-apt-repository -y ppa:webupd8team/java
sudo apt-get update
sudo apt-get -y install oracle-java8-installer
<span class="c"># A license agrement will pop up here...</span>


<span class="c"># Download pegasus</span>
wget http://download.pegasus.isi.edu/pegasus/4.4.0/pegasus_4.4.0-1+deb7_amd64.deb
tar -zxvf pegasus.tar.gz

<span class="c"># Download and install anaconda</span>
wget -O anaconda.sh http://09c8d0b2229f813c1b93-c95ac804525aac4b6dba79b00b39d1d3.r79.cf1.rackcdn.com/Anaconda-2.1.0-Linux-x86_64.sh
bash anaconda.sh -b

<span class="c"># Install *almost* everything in one line</span>
conda install numpy scipy pandas matplotlib opencv

<span class="c"># Download PyMeanShift and install, assuming directory is &#39;pymeanshift&#39;</span>
<span class="nb">cd </span>pymeanshift
sudo python setup.py install

<span class="c"># Install Image Harvest, assuming directory is &#39;ih.git&#39;</span>
<span class="nb">cd </span>ih.git
sudo python setup.py install

<span class="c"># Make sure to move the pegasus python files into the anaconda package folder</span>
<span class="c"># Update the following command as necessary</span>
cp -r pegasus-4.4.0/lib64/python2.6/site-packages/Pegasus ~/anaconda/lib/python2.7/site-packages/
<span class="c"># and to update your bash profile to include the pegasus commands,</span>
<span class="c"># or cp the pegasus commands to /usr/bin or /usr/local/bin</span>
cp pegasus-4.4.0/bin/* /usr/bin/
</pre></div>
</div>
</div>
</div>
<div class="section" id="mac-osx">
<h2>Mac OSX<a class="headerlink" href="#mac-osx" title="Permalink to this headline">¶</a></h2>
<p>Installation for local testing is a breeze with <a class="reference external" href="http://brew.sh">brew</a>.  Installing
brew simply requires copying a line into a terminal.  The only two packages
you need to manual download will be PyMeanShift and Image Harvest.
You will have to install <a class="reference external" href="https://developer.apple.com/xcode/">XCode</a>, and the XCode Command Line Tools if you have not already. It&#8217;s a free download
from the App Store.
After you have downloaded the packages and installed brew, run the following:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># Install *almost* everything in one line</span>
brew tap homebrew/science
brew tap homebrew/python
brew update <span class="o">&amp;&amp;</span> brew upgrade
brew install numpy scipy matplotlib pandaseq opencv
<span class="c"># You need to make sure your PYTHONPATH</span>
<span class="c"># points to the installed packages.</span>
<span class="c"># We point to the brew installed packages first,</span>
<span class="c"># to make sure there are no conflicts with system python.</span>
<span class="nb">export </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="sb">`</span>brew --prefix<span class="sb">`</span>/lib/python2.7/site-packages/:<span class="nv">$PYTHONPATH</span>

<span class="c"># Download PyMeanShift and install, assuming directory is &#39;pymeanshift&#39;</span>
<span class="nb">cd </span>pymeanshift
sudo python setup.py install

<span class="c"># Download Image Harvest and install, assuming directory is &#39;ih.git&#39;</span>
<span class="nb">cd </span>ih.git
sudo python setup.py install

<span class="c"># That&#39;s it!</span>
</pre></div>
</div>
</div>
<div class="section" id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<p>Windows requires a little more work, and in fact, windows doesn&#8217;t even come with python.
Installing requires adjusting some system settings as well.  You will need to manually
install several packages before <a class="reference external" href="https://pypi.python.org/pypi/pip">pip</a> can put
in work.  First, install <a class="reference external" href="https://www.python.org/downloads/">python2.7</a>.  Next,
you have to add python to your PATH environment variable.</p>
<ul class="simple">
<li>Windows 7: Right click on Computer &gt; Properties &gt; Advanced system settings &gt; Advanced Tab &gt; Enviornment Variables</li>
<li>Windows 8: Control Panel &gt; System &gt; Advanced system settings &gt; Advanced Tab &gt; Environment Variables</li>
</ul>
<p>You should see two boxes.  One that says &#8220;User variables for &lt;user&gt;&#8221;, and the other that says
&#8220;System variables&#8221;.  Scroll through the &#8220;System variables&#8221; box until you find the &#8216;Path&#8217; variable.
It should look like lots of paths separated by semicolons.  Edit Path, and add two new paths,
&#8216;C:\Python2.7\&#8217; and &#8216;C:\Python2.7\Scripts\&#8217;.  Make sure to keep each path separated by a semicolon.
Next, you need to install a <a class="reference external" href="http://www.microsoft.com/en-us/download/details.aspx?id=44266">c++ compiler</a> &#8211;
simply download the installer and run it.
Finally, download and install <a class="reference external" href="https://pypi.python.org/pypi/pip">pip</a>.  There should
simply be a giant script you copy to a local file, and execute with python.</p>
<p>Now, you can install all the dependent python packages by finding the correct version for your os,
and downloading them from this <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">link</a>.  You will need the same
list as above that is, <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy">numpy</a>, <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#scipy">scipy</a>, <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#pandas">pandas</a>, <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#matplotlib">matplotlib</a>, and <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#opencv">opencv</a>.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># For each downloaded wheel file, you will</span>
<span class="c"># need to run the following from a command prompt</span>
pip install name.whl
<span class="c"># Then, download pymeanshift and install, run installer.</span>
<span class="c"># Then, download Image Harvest and install, assuming directory is &#39;ih.git&#39;</span>
<span class="nb">cd </span>ih.git
python setup.py install
</pre></div>
</div>
<p>One final note, when loading images, python expects forward slashes not back slashes,
and does not expect the C: for absolute paths.  If you have an image called &#8220;test.jpg&#8221;
in your downloads folder, the correct path for python is &#8220;/Users/username/Downloads/test.jpg&#8221;.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Avi Knecht.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3a0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>